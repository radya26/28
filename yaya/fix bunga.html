<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buket & Kupu-Kupu Realistik Untuk Gie ❤️</title>
    <style>
        *,
        *::after,
        *::before {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        :root {
            --dark-color: #000b1a;
            --text-color: #a7ffee;
            --flower-blue: #00d2ff;
            --flower-deep-blue: #3a7bd5;
            --leaf-green: #0d5a4e;
            --rain-color: rgba(167, 255, 238, 0.3);
        }

        body {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            min-height: 100vh;
            background-color: var(--dark-color);
            overflow: hidden;
            perspective: 1000px;
            font-family: 'Segoe UI', sans-serif;
        }

        /* Latar Belakang */
        .night {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at bottom, #001f3f 0%, #000 90%);
            z-index: -1;
        }

        /* Pesan Teks */
        .mensive-container {
            position: fixed;
            top: 15%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            text-align: center;
            width: 90%;
        }

        .mensive-text {
            color: var(--text-color);
            font-size: 6vmin;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1vmin;
            text-shadow: 0 0 10px rgba(167, 255, 238, 0.8), 0 0 40px var(--flower-blue);
        }

        /* Wadah Buket */
        .bouquet-origin {
            position: absolute;
            bottom: -5vmin;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 2px;
            z-index: 10;
        }

        .flower {
            position: absolute;
            bottom: 0;
            left: 0;
            transform-origin: bottom center;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 3s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }
        
        .flower__line {
            width: 1.2vmin;
            background-image: linear-gradient(to top, #052c26, var(--leaf-green));
            border-radius: 10px;
            position: relative;
            transition: height 2.5s ease-out;
            box-shadow: 0 0 10px rgba(13, 90, 78, 0.5);
            height: 0vmin;
        }

        /* Daun Mengembang */
        .long-leaf {
            position: absolute;
            width: 10vmin;
            height: 14vmin;
            background: linear-gradient(to top right, var(--leaf-green), #1e8d7f);
            border-radius: 100% 10% 100% 10%;
            left: 50%;
            transform-origin: bottom left;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.3);
            opacity: 0;
            transition: opacity 1s 1.5s;
        }

        .loaded .long-leaf { opacity: 1; }

        .long-leaf--left {
            transform-origin: bottom right;
            border-radius: 10% 100% 10% 100%;
            margin-left: -10vmin;
            background: linear-gradient(to top left, var(--leaf-green), #1e8d7f);
        }

        /* Kepala Bunga */
        .flower__head {
            position: relative;
            width: 12vmin;
            height: 12vmin;
            transition: transform 1s 2s, opacity 1s 2s;
            opacity: 0;
            transform: scale(0);
        }

        .loaded .flower__head {
            opacity: 1;
            transform: scale(1);
        }

        .petal {
            position: absolute;
            bottom: 50%;
            left: 50%;
            width: 6.5vmin;
            height: 11vmin;
            background: linear-gradient(to top, var(--flower-deep-blue), var(--flower-blue));
            border-radius: 50% 50% 20% 20% / 70% 70% 30% 30%;
            transform-origin: bottom center;
            box-shadow: 0 0 15px rgba(0, 210, 255, 0.4);
        }

        .flower__center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4vmin;
            height: 4vmin;
            background: #fff;
            border-radius: 50%;
            z-index: 5;
            box-shadow: 0 0 20px #fff, 0 0 40px var(--flower-blue);
        }

        /* Kupu-Kupu Realistik */
        .butterfly-container {
            position: absolute;
            bottom: 35vh;
            left: 50%;
            width: 0;
            height: 0;
            z-index: 20;
            transform-style: preserve-3d;
        }

        .butterfly {
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            transform-style: preserve-3d;
            animation: butterfly-fly 15s linear infinite;
            opacity: 0;
            transition: opacity 2s 3s;
        }

        .loaded .butterfly {
            opacity: 1;
        }

        .butterfly__body {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0.4vmin;
            height: 3vmin;
            background: #222;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .wing-pair {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        .wing {
            position: absolute;
            width: 3vmin;
            height: 4vmin;
            top: 0;
            transform-origin: right center;
            animation: flap 0.2s ease-in-out infinite alternate;
            background-size: cover;
            opacity: 0.9;
            filter: brightness(1.2);
        }

        .wing--top {
            border-radius: 100% 100% 20% 100%;
            top: -1vmin;
        }

        .wing--bottom {
            height: 3vmin;
            top: 2vmin;
            border-radius: 20% 20% 100% 100%;
            opacity: 0.8;
        }

        .wing--right {
            left: 50%;
            transform-origin: left center;
        }

        .wing--right.wing--top {
            border-radius: 100% 100% 100% 20%;
        }

        .wing--right.wing--bottom {
            border-radius: 20% 20% 100% 100%;
        }

        @keyframes flap {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(80deg); }
        }

        /* Variasi kepakan untuk sisi kanan */
        .wing--right {
            animation-name: flap-right;
        }
        @keyframes flap-right {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(-80deg); }
        }

        @keyframes butterfly-fly {
            0% { transform: rotate(0deg) translate3d(25vmin, 0, 0) rotate(0deg) translateY(0); }
            25% { transform: rotate(90deg) translate3d(25vmin, 0, 10vmin) rotate(-90deg) translateY(-5vmin); }
            50% { transform: rotate(180deg) translate3d(25vmin, 0, 0) rotate(-180deg) translateY(0); }
            75% { transform: rotate(270deg) translate3d(25vmin, 0, -10vmin) rotate(-270deg) translateY(5vmin); }
            100% { transform: rotate(360deg) translate3d(25vmin, 0, 0) rotate(-360deg) translateY(0); }
        }

        /* Hujan */
        .rain-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }

        .rain-drop {
            position: absolute;
            background: linear-gradient(to bottom, transparent, var(--rain-color));
            width: 2px;
            height: 15vh;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-20vh); }
            100% { transform: translateY(110vh); }
        }

        @keyframes bouquet-sway {
            0%, 100% { transform: rotate(var(--base-rot)); }
            50% { transform: rotate(calc(var(--base-rot) + 3deg)); }
        }
    </style>
</head>
<body>

    <div class="night"></div>
    <div class="rain-container" id="rain-container"></div>

    <div class="mensive-container">
        <h1 class="mensive-text" id="main-text"></h1>
    </div>

    <div class="butterfly-container" id="butterfly-system"></div>

    <div class="bouquet-origin" id="bouquet"></div>

    <script>
        const bouquet = document.getElementById('bouquet');
        const rainContainer = document.getElementById('rain-container');
        const butterflySystem = document.getElementById('butterfly-system');
        const mainText = document.getElementById('main-text');

        function createPetals(parent) {
            for (let i = 0; i < 8; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.transform = `translateX(-50%) rotate(${i * 45}deg)`;
                parent.appendChild(petal);
            }
        }

        function createFlowerInBouquet(angle, height) {
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.setProperty('--base-rot', `${angle}deg`);
            flower.style.transform = `rotate(${angle}deg)`;
            flower.style.animation = `bouquet-sway ${3 + Math.random() * 2}s ease-in-out infinite`;

            const head = document.createElement('div');
            head.className = 'flower__head';
            createPetals(head);
            const center = document.createElement('div');
            center.className = 'flower__center';
            head.appendChild(center);

            const line = document.createElement('div');
            line.className = 'flower__line';
            line.dataset.targetHeight = height; 

            for(let j=0; j<2; j++) {
                const leaf = document.createElement('div');
                leaf.className = `long-leaf ${j % 2 === 0 ? '' : 'long-leaf--left'}`;
                leaf.style.bottom = (20 + j * 35) + '%';
                line.appendChild(leaf);
            }

            flower.appendChild(head);
            flower.appendChild(line);
            return flower;
        }

        function createButterfly() {
            // Palet warna yang lebih realistis dan cerah
            const colors = [
                { main: '#FF3366', sub: '#990033' }, // Merah Muda
                { main: '#FFCC00', sub: '#FF9900' }, // Oranye Kuning
                { main: '#9D50BB', sub: '#6E48AA' }, // Ungu
                { main: '#00F2FE', sub: '#4FACFE' }, // Biru Elektrik
                { main: '#66FF66', sub: '#00CC00' }  // Hijau Cerah
            ];
            
            const butterfly = document.createElement('div');
            butterfly.className = 'butterfly';
            
            const colorSet = colors[Math.floor(Math.random() * colors.length)];
            const duration = 12 + Math.random() * 8;
            const delay = Math.random() * -25;
            
            butterfly.style.animation = `butterfly-fly ${duration}s linear ${delay}s infinite`;

            // Badan Kupu-Kupu
            const bodyPart = document.createElement('div');
            bodyPart.className = 'butterfly__body';
            butterfly.appendChild(bodyPart);

            // Pasangan sayap Kiri & Kanan
            const sides = ['left', 'right'];
            sides.forEach(side => {
                const wingPair = document.createElement('div');
                wingPair.className = 'wing-pair';
                
                // Sayap Atas
                const wingTop = document.createElement('div');
                wingTop.className = `wing wing--top wing--${side}`;
                wingTop.style.background = `linear-gradient(to bottom, ${colorSet.main}, ${colorSet.sub})`;
                wingTop.style.boxShadow = `0 0 8px ${colorSet.main}`;
                wingTop.style.animationDelay = (Math.random() * 0.2) + 's';
                
                // Sayap Bawah
                const wingBottom = document.createElement('div');
                wingBottom.className = `wing wing--bottom wing--${side}`;
                wingBottom.style.background = `linear-gradient(to top, ${colorSet.main}, ${colorSet.sub})`;
                wingBottom.style.animationDelay = wingTop.style.animationDelay;
                
                wingPair.appendChild(wingTop);
                wingPair.appendChild(wingBottom);
                butterfly.appendChild(wingPair);
            });

            butterflySystem.appendChild(butterfly);
        }

        // Inisialisasi Buket
        const angles = [-35, -20, -10, 0, 10, 20, 35, -25, 25, -5, 5, -15, 15];
        angles.forEach((angle) => {
            const h = 40 + Math.random() * 35;
            const f = createFlowerInBouquet(angle, h);
            bouquet.appendChild(f);
        });

        // Inisialisasi Kupu-Kupu (tambah jumlah agar lebih ramai)
        for(let i=0; i<8; i++) createButterfly();

        // Inisialisasi Hujan
        for (let i = 0; i < 80; i++) {
            const drop = document.createElement('div');
            drop.className = 'rain-drop';
            drop.style.left = Math.random() * 100 + 'vw';
            drop.style.top = Math.random() * -100 + 'vh';
            drop.style.animationDuration = (0.6 + Math.random() * 1) + 's';
            drop.style.animationDelay = Math.random() * 2 + 's';
            rainContainer.appendChild(drop);
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.body.classList.add("loaded");
                const lines = document.querySelectorAll('.flower__line');
                lines.forEach((line, index) => {
                    setTimeout(() => {
                        line.style.height = line.dataset.targetHeight + 'vmin';
                    }, index * 100);
                });

                const str = "Aku cinta kamu, Gie.";
                let idx = 0;
                const typer = setInterval(() => {
                    mainText.innerHTML += str[idx];
                    idx++;
                    if(idx >= str.length) clearInterval(typer);
                }, 100);
            }, 500);
        });
    </script>
</body>
</html>